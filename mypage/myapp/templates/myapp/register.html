<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title> íšŒì›ê°€ì…</title>
  <style>
    :root{
      /* ë¼ì´íŠ¸ í…Œë§ˆ */
      --bg:#ffffff;
      --text:#111827;             /* ê±°ì˜ ê²€ì • */
      --muted:#6b7280;            /* íšŒìƒ‰ ì„¤ëª… */
      --card:#ffffff;
      --border:#e5e7eb;           /* ì—°í•œ í…Œë‘ë¦¬ */
      --input:#f3f4f6;            /* ì…ë ¥ì°½ ë°°ê²½ */
      --ring:#1f4fff;             /* í¬ì»¤ìŠ¤ íŒŒë€ ë§ */
      --danger:#ef4444;
      --primary:#0b0d19;          /* ì œì¶œ ë²„íŠ¼ */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, "Apple SD Gothic Neo","ë§‘ì€ ê³ ë”•", Arial;
      display:flex; flex-direction:column; align-items:center;
    }

    /* ìƒë‹¨ í˜ì´ì§€ íƒ€ì´í‹€ */
    .page{
      width:100%; max-width:920px; padding:40px 16px 24px;
      text-align:center;
    }
    .page h1{
      margin:0 0 8px; font-size:28px; font-weight:800; letter-spacing:.2px;
    }
    .page p{ margin:0; color:var(--muted); font-size:15px; }

    /* ì¹´ë“œ */
    .card{
      width:100%; max-width:920px; background:var(--card);
      border:1px solid var(--border); border-radius:16px;
      box-shadow:0 2px 10px rgba(17,24,39,.04);
      padding:24px;
    }
    .section-title{ font-weight:700; font-size:18px; }
    .section-desc{ color:var(--muted); margin-top:6px; font-size:14px; }

    /* ê·¸ë¦¬ë“œ */
    .grid{ display:grid; grid-template-columns:1fr; gap:16px; margin-top:20px; }
    @media(min-width:768px){ .grid{ grid-template-columns:1fr 1fr; } }
    .full{ grid-column:1 / -1; }

    /* í•„ë“œ */
    .form-item{ display:flex; flex-direction:column; gap:8px; }
    label{ font-size:13px; color:#374151; } /* ì•½ê°„ ì§„í•œ ë¼ë²¨ */
    input,select,button.date-trigger{
      width:100%; padding:12px 14px; border-radius:12px;
      border:1px solid var(--border);
      background:var(--input); color:var(--text);
      font-size:14px; outline:none; transition:box-shadow .15s,border-color .15s;
    }
    input::placeholder{ color:#9ca3af; } /* ì—°íšŒìƒ‰ í”Œë ˆì´ìŠ¤í™€ë” */
    input:focus, select:focus, button.date-trigger:focus{
      border-color:#cdd9ff; box-shadow:0 0 0 3px rgba(56,116,255,.18);
      background:#fafafa;
    }

    /* ë¹„ë°€ë²ˆí˜¸ ë³´ê¸° í† ê¸€ì„ ì›í˜• ì•„ì´ì½˜ì²˜ëŸ¼ */
    .password-wrap{ position:relative; }
    .toggle{
      position:absolute; right:8px; top:50%; transform:translateY(-50%);
      width:30px; height:30px; border-radius:9999px;
      border:1px solid var(--border); background:#eef0f4; color:#374151;
      cursor:pointer; font-size:12px; display:grid; place-items:center;
    }
    .toggle:hover{ filter:brightness(0.98); }

    /* ì˜¤ë¥˜ */
    .error{ color:var(--danger); font-size:12px; min-height:16px; }

    /* ì œì¶œ ë²„íŠ¼ (ìŠ¤ìƒ·ì˜ ì§„í•œ ë²„íŠ¼) */
    .submit{
      width:100%; padding:14px 16px; border-radius:12px; margin-top:8px;
      background:var(--primary); color:#fff; border:1px solid #0b0d19; font-weight:700; letter-spacing:.2px;
      cursor:pointer;
    }
    .submit:hover{ filter:brightness(1.04); }

    /* í† ìŠ¤íŠ¸(ë¼ì´íŠ¸ ë²„ì „) */
    .toast{
      position:fixed; bottom:24px; left:50%; transform:translateX(-50%);
      background:#111827; color:#fff; border:1px solid #0b0d19;
      padding:12px 14px; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.18);
      opacity:0; translate:0 8px; animation: toast-in .22s ease forwards;
    }
    @keyframes toast-in{ to{ opacity:1; translate:0 0 } }
  </style>
</head>
<body>
  <!-- ìƒë‹¨ í˜ì´ì§€ íƒ€ì´í‹€/ì„¤ëª… (ì´ë¯¸ì§€ ìƒë‹¨ê³¼ ë™ì¼) -->
  <header class="page" aria-labelledby="pagetitle">
    <h1 id="pagetitle">íšŒì›ê°€ì…</h1>
    <p>íšŒì›ê°€ì…ì„ ìœ„í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
  </header>

  <!-- ì¹´ë“œ: â€œíšŒì›ê°€ì…â€ ì„¹ì…˜ -->
  <main class="card" role="main" aria-labelledby="sectionTitle">
    <div class="section-title" id="sectionTitle">íšŒì›ê°€ì…</div>
    <div class="section-desc">ì•„ë˜ ì •ë³´ë¥¼ ì…ë ¥í•˜ì—¬ íšŒì›ê°€ì…ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.</div>

    <form id="registerForm" class="form" novalidate>
      <div class="grid">
        <!-- ì•„ì´ë”” -->
        <div class="form-item">
          <label for="userId">ì•„ì´ë””</label>
          <input id="userId" name="userId" type="text" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                 required minlength="4" maxlength="20"
                 pattern="^[a-zA-Z0-9_]{4,20}$" autocomplete="username" aria-describedby="userIdErr">
          <div id="userIdErr" class="error"></div>
        </div>

        <!-- ì´ë¦„ -->
        <div class="form-item">
          <label for="name">ì´ë¦„</label>
          <input id="name" name="name" type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                 required minlength="2" maxlength="10" aria-describedby="nameErr">
          <div id="nameErr" class="error"></div>
        </div>

        <!-- ë¹„ë°€ë²ˆí˜¸ -->
        <div class="form-item">
          <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
          <div class="password-wrap">
            <input id="password" name="password" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                   required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$"
                   aria-describedby="passwordErr" autocomplete="new-password">
            <button class="toggle" type="button" aria-label="ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ" data-target="password">ğŸ‘</button>
          </div>
          <div id="passwordErr" class="error"></div>
        </div>

        <!-- ë¹„ë°€ë²ˆí˜¸ í™•ì¸ -->
        <div class="form-item">
          <label for="confirmPassword">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
          <div class="password-wrap">
            <input id="confirmPassword" name="confirmPassword" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”"
                   required aria-describedby="confirmErr" autocomplete="new-password">
            <button class="toggle" type="button" aria-label="ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í‘œì‹œ" data-target="confirmPassword">ğŸ‘</button>
          </div>
          <div id="confirmErr" class="error"></div>
        </div>

        <!-- ì´ë©”ì¼ -->
        <div class="form-item">
          <label for="email">ì´ë©”ì¼</label>
          <input id="email" name="email" type="email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
                 required aria-describedby="emailErr" autocomplete="email">
          <div id="emailErr" class="error"></div>
        </div>

        <!-- ì§ê¸‰ -->
        <div class="form-item">
          <label for="position">ì§ê¸‰</label>
          <select id="position" name="position" required aria-describedby="positionErr">
            <option value="" selected disabled>ì§ê¸‰ì„ ì„ íƒí•˜ì„¸ìš”</option>
            <option>ì¸í„´</option><option>ì‚¬ì›</option><option>ì£¼ì„</option><option>ëŒ€ë¦¬</option>
            <option>ê³¼ì¥</option><option>ì°¨ì¥</option><option>ë¶€ì¥</option><option>ì´ì‚¬</option>
            <option>ìƒë¬´</option><option>ì „ë¬´</option><option>ë¶€ì‚¬ì¥</option><option>ì‚¬ì¥</option>
          </select>
          <div id="positionErr" class="error"></div>
        </div>

        <!-- ìƒë…„ì›”ì¼ -->
        <div class="form-item">
          <label for="birthDate">ìƒë…„ì›”ì¼</label>
          <input id="birthDate" name="birthDate" type="date" required aria-describedby="birthErr" min="1900-01-01">
          <div id="birthErr" class="error"></div>
        </div>

        <!-- ì„±ë³„ -->
        <div class="form-item">
          <label for="gender">ì„±ë³„</label>
          <select id="gender" name="gender" required aria-describedby="genderErr">
            <option value="" selected disabled>ì„±ë³„ì„ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="male">ë‚¨ì„±</option>
            <option value="female">ì—¬ì„±</option>
            
          </select>
          <div id="genderErr" class="error"></div>
        </div>

        <!-- ì „í™”ë²ˆí˜¸ -->
        <div class="form-item full">
          <label for="phoneNumber">ì „í™”ë²ˆí˜¸</label>
          <input id="phoneNumber" name="phoneNumber" type="text" inputmode="numeric"
                 placeholder="010-1234-5678" required pattern="^010-\\d{4}-\\d{4}$" aria-describedby="phoneErr">
          <div id="phoneErr" class="error"></div>
        </div>
      </div>

      <button type="submit" class="submit">íšŒì›ê°€ì…</button>
    </form>
  </main>

  <script>
    /* ë‚ ì§œ max=ì˜¤ëŠ˜ */
    (function(){
      const t=new Date(), y=t.getFullYear(), m=String(t.getMonth()+1).padStart(2,'0'), d=String(t.getDate()).padStart(2,'0');
      document.getElementById('birthDate').setAttribute('max',`${y}-${m}-${d}`);
    })();

    /* í† ê¸€(ğŸ‘ ì•„ì´ì½˜ ë²„íŠ¼) */
    document.querySelectorAll('.toggle').forEach(b=>{
      b.addEventListener('click',()=>{
        const target=document.getElementById(b.dataset.target);
        const show=target.type==='password'; target.type= show ? 'text':'password';
      });
    });

    /* ì „í™”ë²ˆí˜¸ ìë™ í•˜ì´í”ˆ */
    const phone=document.getElementById('phoneNumber');
    phone.addEventListener('input',e=>{
      let v=e.target.value.replace(/[^0-9]/g,'');
      if(v.startsWith('010')){
        if(v.length>11) v=v.slice(0,11);
        if(v.length>=8) v=v.replace(/(\d{3})(\d{4})(\d{1,4})/,'$1-$2-$3');
        else if(v.length>=4) v=v.replace(/(\d{3})(\d{1,4})/,'$1-$2');
      }
      e.target.value=v;
    });

    /* ê²€ì¦ ë©”ì‹œì§€ (ì´ì „ê³¼ ë™ì¼) */
    const msgs={
      userId:{valueMissing:'ì•„ì´ë””ëŠ” í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤',patternMismatch:'ì•„ì´ë””ëŠ” ì˜ë¬¸, ìˆ«ì, ì–¸ë”ë°”ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (4~20ì)',tooShort:'ì•„ì´ë””ëŠ” ìµœì†Œ 4ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤',tooLong:'ì•„ì´ë””ëŠ” ìµœëŒ€ 20ìê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤'},
      password:{valueMissing:'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”',patternMismatch:'ë¹„ë°€ë²ˆí˜¸ëŠ” ëŒ€ì†Œë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•˜ê³  8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤'},
      confirmPassword:{valueMissing:'ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”',mismatch:'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤'},
      email:{valueMissing:'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”',typeMismatch:'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'},
      name:{valueMissing:'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”',tooShort:'ì´ë¦„ì€ ìµœì†Œ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤',tooLong:'ì´ë¦„ì€ ìµœëŒ€ 10ìê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤'},
      position:{valueMissing:'ì§ê¸‰ì„ ì„ íƒí•´ì£¼ì„¸ìš”'},
      birthDate:{valueMissing:'ìƒë…„ì›”ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”',rangeOverflow:'ë¯¸ë˜ ë‚ ì§œëŠ” ì„ íƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤',rangeUnderflow:'1900-01-01 ì´í›„ì—¬ì•¼ í•©ë‹ˆë‹¤'},
      gender:{valueMissing:'ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”'},
      phoneNumber:{valueMissing:'ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”',patternMismatch:'ì˜¬ë°”ë¥¸ íœ´ëŒ€í° ë²ˆí˜¸ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (ì˜ˆ: 010-1234-5678)'},
    };
    function setErr(id,msg=''){ const el=document.getElementById(id+'Err'); if(el) el.textContent=msg; }
    function validate(el){
      const v=el.validity, m=msgs[el.id]; if(!m) return true;
      if(el.id==='confirmPassword'){ const pw=document.getElementById('password').value; if(el.value!==pw){ setErr(el.id,m.mismatch); return false; } }
      if(v.valueMissing){ setErr(el.id,m.valueMissing); return false; }
      if(v.typeMismatch&&m.typeMismatch){ setErr(el.id,m.typeMismatch); return false; }
      if(v.patternMismatch&&m.patternMismatch){ setErr(el.id,m.patternMismatch); return false; }
      if(v.tooShort&&m.tooShort){ setErr(el.id,m.tooShort); return false; }
      if(v.tooLong&&m.tooLong){ setErr(el.id,m.tooLong); return false; }
      if(v.rangeOverflow&&m.rangeOverflow){ setErr(el.id,m.rangeOverflow); return false; }
      if(v.rangeUnderflow&&m.rangeUnderflow){ setErr(el.id,m.rangeUnderflow); return false; }
      setErr(el.id,''); return true;
    }
    document.querySelectorAll('#registerForm input,#registerForm select').forEach(el=>{
      el.addEventListener('blur',()=>validate(el));
      el.addEventListener('input',()=>setErr(el.id,''));
    });

    /* ì œì¶œ */
    document.getElementById('registerForm').addEventListener('submit', e=>{
      e.preventDefault();
      let ok=true;
      document.querySelectorAll('#registerForm input,#registerForm select').forEach(el=>{ if(!validate(el)) ok=false; });
      if(!ok) return;
      const data=Object.fromEntries(new FormData(e.currentTarget).entries());
      console.log('Form Values:', { ...data, birthDate: data.birthDate? new Date(data.birthDate):null });
      showToast('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
      e.currentTarget.reset();
    });
    function showToast(msg){
      const t=document.createElement('div'); t.className='toast'; t.textContent=msg; document.body.appendChild(t);
      setTimeout(()=>{ t.style.opacity='0'; t.style.translate='0 8px'; },2000);
      setTimeout(()=>t.remove(),2400);
    }
  </script>
</body>
</html>
