Source URL: https://developers.google.com/maps/documentation/routes/transit-route?hl=ko

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Web Services [https://developers.google.com/maps/web-services?hl=ko]
Routes API [https://developers.google.com/maps/documentation/routes?hl=ko]
의견 보내기
대중교통 경로 확인
유럽 경제 지역 (EEA) 개발자
대중교통 경로는 해당 지역에서 이용 가능한 대중교통 옵션을 사용하여 내비게이션 안내를 제공합니다. 대중교통 옵션에는 버스, 지하철, 기차 등이 포함될 수 있습니다. 대중교통 경로에는 일반적으로 대중교통 정거장까지, 정거장 사이, 정거장에서의 도보 경로에 관한 안내도 포함됩니다. 대중교통 경로를 이용하려면 일반적으로 두 가지 이상의 이동 수단을 사용해야 하므로 경로를 요청하는 방법과 응답의 일부 부분이 다릅니다.
참고: 대중교통에서 경로 매트릭스를 가져올 수도 있습니다. 예를 보려면 대중교통의 경로 매트릭스 가져오기 [https://developers.google.com/maps/documentation/routes/transit-rm?hl=ko]를 참고하세요.
대중교통 경로와 다른 경로의 차이점
travelMode를 TRANSIT으로 설정하여 요청하는 대중교통 경로는 다른 travelMode 옵션을 사용하는 경로와 다릅니다. 동일한 객체와 옵션을 모두 요청할 수는 없으며 응답은 다른 경로와 비교할 때 다른 필드를 반환합니다.
Routes API에서 단계는 모든 유형의 이동에서 일관되게 하나의 탐색 안내입니다. 따라서 각 탐색 안내는 한 단계입니다. 대중교통 경로 응답은 다른 이동 수단이 있는 경로와 매우 유사하지만 몇 가지 주요 차이점이 있습니다.
요청 차이 응답 차이
중간 웨이포인트를 지정할 수 없습니다. 대중교통 세부정보를 포함합니다.
친환경 경로를 가져올 수 없음 'stepsOverview'에 해당 이동 수단의 걸음 수 요약이 포함된 각 이동 수단의 메타데이터를 포함합니다. 이 메타데이터를 요청하려면 'routes.legs.stepsOverview' 필드 마스크를 사용하세요.
트래픽 데이터를 포함할지 여부와 방법을 지정할 수 없음
피할 경로 지형지물을 지정할 수 없음
routingPreference에는 transitPreferences만 지정할 수 있습니다. 자세한 내용은 TransitPreferences [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TransitPreferences?hl=ko]를 참고하세요.
Routes API에서 반환하는 응답에 관한 자세한 내용은 대중교통 경로 응답 검토 [https://developers.google.com/maps/documentation/routes/transit-route?hl=ko#transit-route-example]를 참고하세요.
대중교통 경로를 확인하려면 다음 단계를 따르세요.
출발지와 목적지를 설정합니다.
참고: 대중교통 경로는 중간 경유지를 지원하지 않습니다.
이동수단을 대중교통으로 설정합니다.
travelMode: "TRANSIT"
필드 마스크를 추가하여 원하는 응답 필드를 가져옵니다. 필요한 대중교통 경로 필드 요청 [https://developers.google.com/maps/documentation/routes/transit-route?hl=ko#transit-fields]을 참고하세요.
필요한 경우 선택적 매개변수를 설정합니다. 대중교통 경로의 매개변수 설정 [https://developers.google.com/maps/documentation/routes/transit-route?hl=ko#options]을 참고하세요.
필요한 대중교통 경로 필드 요청
필드 마스크를 사용하여 필요한 대중교통 경로 필드를 요청합니다. 다음 표에는 대중교통 경로에 대한 몇 가지 추천 응답과 이를 요청하는 데 사용할 필드 마스크가 포함되어 있습니다.
이 정보를 요청하려면 이 필드 마스크 사용
모든 경로 세부정보 routes.*
모든 대중교통 세부정보 routes.legs.steps.transitDetails
각 구간의 시작 위치 routes.legs.steps.startLocation
각 구간의 종료 위치 routes.legs.steps.endLocation
각 단계의 경로 다중선 routes.legs.steps.polyline
각 단계에 사용된 대중교통 유형 routes.legs.steps.travelMode
각 단계 및 경로의 예상 요금 및 현지화된 예상 요금 routes.travel_advisory.transitFare localized routes.localizedValues.transitFare
참고: transitFare는 API가 모든 단계의 대중교통 요금 정보를 확인할 수 있는 경우에만 제공됩니다.
시간 및 거리에 관한 현지화된 텍스트 routes.localizedValues
필드 마스크 설정에 관한 자세한 내용은 반환할 필드 선택 [https://developers.google.com/maps/documentation/routes/choose_fields?hl=ko]을 참고하세요.
대중교통 경로의 매개변수 설정
다음은 대중교통 경로와 관련된 매개변수입니다.
이렇게 하려면 이 매개변수 사용 참고
대중교통 모드 선택 travelMode: "TRANSIT" 필수 항목입니다. 자세히 알아보기 [https://developers.google.com/maps/documentation/routes/reference/rest/v2/RouteTravelMode?hl=ko]
도착 또는 출발 시간 설정 "arrivalTime": "yyyy-mm-ddThh:mm:ssZ"
또는
"departureTime": "yyyy-mm-ddThh:mm:ssZ" 선택사항입니다. arrival_time 또는 departure_time 중 하나를 지정할 수 있습니다. 두 시간 모두 지정되지 않은 경우 departure_time는 현재 실행 시간 (now)으로 기본 설정됩니다. 도착 시간과 출발 시간은 현재 실행 시간 (now)을 기준으로 다음 시간 범위 내에서만 설정할 수 있습니다.
now 전 7일(양 끝값 포함)
now 후 최대 100일(양 끝값 포함)
시간은 RFC3339 UTC 'Zulu' 형식의 타임스탬프로 표현됩니다. 자세히 알아보기 [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TopLevel/computeRoutes?hl=ko#request-body]
참고: 대중교통 일정은 자주 변경되며, 이용 가능한 대중교통 노선은 시간이 지남에 따라 변경될 수 있으며, 먼 미래에 대한 일관된 예측 결과를 제공할 수 있는 것은 아닙니다.
대체 경로 포함 "computeAlternativeRoutes": true 선택사항입니다. Compute Routes가 가능한 경우 최대 3개의 추가 경로를 계산하도록 true로 설정합니다. 자세히 알아보기 [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TopLevel/computeRoutes?hl=ko#request-body]
대중교통 유형에 대한 환경설정 지정 "transitPreferences": { allowedTravelModes: ["BUS","SUBWAY","TRAIN","LIGHT_RAIL","RAIL"]}
참고: 선호하는 이동 수단을 지정해도 반환된 경로에서 선호하는 이동 수단의 경로 효율성과 이용 가능 여부에 따라 다른 이동 수단을 사용하거나 다른 이동 수단만 사용할 수도 있습니다.
선택사항입니다. 선호하는 대중교통 이동 수단을 지정합니다. 자세히 알아보기 [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TransitPreferences?hl=ko]
대중교통 경로의 환경설정 지정 "transitPreferences": {routingPreference: "LESS_WALKING|FEWER_TRANSFERS"} 선택사항입니다. 대중교통 경로 환경설정을 지정합니다. 자세히 알아보기 [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TransitPreferences?hl=ko]
예: 대중교통에서 경로 가져오기
다음 예에서는 다음 매개변수를 사용하여 대중교통 경로를 가져옵니다.
기차로 이동하고 도보 이동을 최소화하는 환경설정을 지정합니다.
대체 경로를 요청합니다.
대중교통 세부정보를 반환하는 필드 마스크를 제공합니다.
curl -X POST -H 'content-type: application/json' -d '{
  "origin": {
    "address": "Humberto Delgado Airport, Portugal"
  },
  "destination": {
    "address": "Basílica of Estrela, Praça da Estrela, 1200-667 Lisboa, Portugal"
  },
  "travelMode": "TRANSIT",
  "computeAlternativeRoutes": true,
  "transitPreferences": {
     routingPreference: "LESS_WALKING",
     allowedTravelModes: ["TRAIN"]
  },
}' \
-H 'Content-Type: application/json' \
-H 'X-Goog-Api-Key: YOUR_API_KEY' \
-H 'X-Goog-FieldMask: routes.legs.steps.transitDetails' \
'https://routes.googleapis.com/directions/v2:computeRoutes'
응답에는 두 경로의 route.legs.steps.transitDetails 필드가 표시됩니다.
{
  "routes": [
    {
    "legs": [
        {
        "steps": [
          {},
          {},
          {},
          {
          "transitDetails": {
            "stopDetails": {
            "arrivalStop": {
              "name": "Saldanha",
              "location": {
                "latLng": {
                  "latitude": 38.73532,
                  "longitude": -9.14543
                }
              }
            },
            "arrivalTime": "2023-08-26T10:49:42Z",
            "departureStop": {
              "name": "Aeroporto",
              "location": {
                "latLng": {
                  "latitude": 38.769047799999996,
                  "longitude": -9.1284593
                }
              }
            },
            "departureTime": "2023-08-26T10:32:10Z"
              },
              "localizedValues": {
              "arrivalTime": {
                  "time": {
                    "text": "11:49"
                  },
                  "timeZone": "Europe/Lisbon"
              },
              "departureTime": {
                "time": {
                  "text": "11:32"
                },
                "timeZone": "Europe/Lisbon"
              }
            },
              "headsign": "São Sebastião",
              "transitLine": {
                "agencies": [
                  {
                    "name": "Metropolitano de Lisboa, E.P.E.",
                    "phoneNumber": "+351 21 350 0115",
                    "uri": "https://www.metrolisboa.pt/"
                  }
                ],
                "name": "Vermelha",
                "color": "#f23061",
                "nameShort": "Vm",
                "textColor": "#000000",
                "vehicle": {
                  "name": {
                    "text": "Metrô"
                  },
                "type": "SUBWAY",
                "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/subway2.png"
                }
              },
              "stopCount": 11
            }
          },
        {},
        {
          "transitDetails": {
            "stopDetails": {
              "arrivalStop": {
                "name": "Rato",
                "location": {
                  "latLng": {
                    "latitude": 38.7201022,
                    "longitude": -9.1540562
                  }
              }
            },
            "arrivalTime": "2023-08-26T11:01:37Z",
            "departureStop": {
              "name": "Saldanha",
                "location": {
                  "latLng": {
                    "latitude": 38.73527,
                    "longitude": -9.1455200000000012
                  }
                }
              },
              "departureTime": "2023-08-26T10:57:57Z"
            },
            "localizedValues": {
              "arrivalTime": {
                "time": {
                  "text": "12:01"
                },
                "timeZone": "Europe/Lisbon"
              },
              "departureTime": {
                "time": {
                  "text": "11:57"
                },
                "timeZone": "Europe/Lisbon"
              }
            },
            "headsign": "Rato",
            "transitLine": {
              "agencies": [
                {
                "name": "Metropolitano de Lisboa, E.P.E.",
                "phoneNumber": "+351 21 350 0115",
                "uri": "https://www.metrolisboa.pt/"
                }
              ],
              "name": "Amarela",
              "color": "#f2c200",
              "nameShort": "Am",
              "textColor": "#000000",
              "vehicle": {
                "name": {
                  "text": "Metrô"
                },
                "type": "SUBWAY",
                "iconUri": "//maps.gstatic.com/mapfiles/transit/iw2/6/subway2.png"
              }
            },
            "stopCount": 4
          }
        },
        {},
        {},
        {},
        {},
        {},
        {}
        ]
      }
    ]
  }
]
}
의견 보내기