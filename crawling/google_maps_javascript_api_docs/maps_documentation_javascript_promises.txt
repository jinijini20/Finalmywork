Source URL: https://developers.google.com/maps/documentation/javascript/promises?hl=ko

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Web [https://developers.google.com/maps/web?hl=ko]
Maps JavaScript API [https://developers.google.com/maps/documentation/javascript?hl=ko]
의견 보내기
프로미스
Google Maps JavaScript API 전체에서 비동기 메서드는 프로미스 [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise]를 반환합니다.
지원
API 메서드가 프로미스를 반환함
경로 [https://developers.google.com/maps/documentation/javascript/directions?hl=ko] 예
거리 행렬 [https://developers.google.com/maps/documentation/javascript/reference/distance-matrix?hl=ko] 예
고도 [https://developers.google.com/maps/documentation/javascript/reference/elevation?hl=ko] 예
지오코더 [https://developers.google.com/maps/documentation/javascript/reference/geocoder?hl=ko] 예
최대 확대/축소 이미지 [https://developers.google.com/maps/documentation/javascript/reference/max-zoom?hl=ko] 예
장소 아니요
Place Autocomplete 서비스 [https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service?hl=ko#AutocompleteService] 일부1 [https://developers.google.com/maps/documentation/javascript/promises?hl=ko#fn1]
스트리트 뷰 [https://developers.google.com/maps/documentation/javascript/reference/street-view?hl=ko] 예
참고: 2020년부터 새로운 API는 프로미스만 지원합니다.
사용
Google Maps JavaScript API로 비동기 메서드를 호출하는 방법은 프로미스 사용에 관한 가이드 [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_Promises] 또는 아래 예를 참고하세요.
async와 await
await 연산자 [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await]는 프로미스를 기다리는 데 사용됩니다. await 연산자는 async 함수 내에서만 사용할 수 있습니다.
const app = async () => {
  const elevationService = google.maps.ElevationService();
  const locations = [{lat: 27.986065, lng:86.922623}];

  const response = await elevationService.getElevationForLocation({locations});
  console.log(response.results);
};

app();
then, catch, finally
프로미스 객체 [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise#Instance_methods]에는 콜백 함수를 사용하는 then, catch, finally 메서드가 있습니다.
const elevationService = google.maps.ElevationService();
const locations = [{lat: 27.986065, lng:86.922623}];

const promise = elevationService.getElevationForLocation({locations});

promise
    .then((response) => {
      console.log(response.results);
    })
    .catch((error) => {
      console.log(error);
    });
    .finally(() => {
      console.log('done');
    });
비동기 콜백 패턴
콜백 패턴 [https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Introducing#Async_callbacks]은 여전히 유효하고 지원됩니다.
const elevationService = google.maps.ElevationService();
const locations = [{lat: 27.986065, lng:86.922623}];

const callback = (results, status) => {
  if (status === 'OK') {
    console.log(results);
  } else {
    // handle this case
  }
};

elevationService.getElevationForLocation({locations}, callback);
참고: 2020년부터 새로운 API는 프로미스만 지원합니다.
현재 프로미스는 getPlacePredictions()에서만 지원됩니다. ↩ [https://developers.google.com/maps/documentation/javascript/promises?hl=ko#fnref1]
의견 보내기