Source URL: https://developers.google.com/people/v1/other-contacts

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
Switch to English
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Workspace [https://developers.google.com/workspace?hl=ko]
People API [https://developers.google.com/people?hl=ko]
'기타 연락처' 읽기, 복사, 검색
bookmark_border
이 페이지의 내용
사용자의 '기타 연락처' 표시
변경된 사용자의 '기타 연락처'를 나열합니다.
'기타 연락처'를 'myContacts' 그룹에 복사
사용자의 '기타 연락처' 검색
People API 사용 준비하기 [https://developers.google.com/people/v1/getting-started?hl=ko]의 단계를 완료하면 '기타 연락처' 데이터를 읽고, 복사하고, 검색할 수 있습니다.
다음 코드 샘플은 몇 가지 간단한 요청을 보내는 방법을 보여줍니다. 메서드의 전체 목록은 참조 문서 [https://developers.google.com/people/api/rest?hl=ko]를 참고하세요.
사용자의 '기타 연락처' 표시
사용자의 '기타 연락처'에 있는 사용자 목록을 가져오려면 [https://developers.google.com/people/api/rest/v1/otherContacts/list?hl=ko] 다음 코드를 사용하세요.
--- 탭: 프로토콜 ---
GET /v1/otherContacts?readMask=names,emailAddresses HTTP/1.1
Host: people.googleapis.com

--- 탭: 자바 ---
ListOtherContactsResponse response = peopleService.otherContacts().list()
    .setReadMask("metadata,names,emailAddresses")
    .execute();

List<Person> otherContacts = response.getOtherContacts();
변경된 사용자의 '기타 연락처'를 나열합니다.
--- 탭: 자바 ---
// Initial request
ListOtherContactsResponse fullSyncResponse = peopleService.otherContacts().list()
    .setReadMask("metadata,names,emailAddresses")
    .setRequestSyncToken(true)
    .execute();
// Fetch all the pages
while (fullSyncResponse.getNextPageToken() != null) {
  fullSyncResponse = peopleService.otherContacts().list()
      .setReadMask("metadata,names,emailAddresses")
      .setRequestSyncToken(true)
      .setPageToken(fullSyncResponse.getNextPageToken())
      .execute();
}

// Some time passes

// Fetch incremental changes using the sync token returned in the last fullSyncResponse.
try {
  ListOtherContactsResponse incrementalSyncResponse = peopleService.otherContacts().list()
      .setReadMask("metadata,names,emailAddresses")
      .setSyncToken(fullSyncResponse.getNextSyncToken())
      .execute();
  for (Person person : incrementalSyncResponse.getOtherContacts()) {
    handlePerson(person);
  }
  
  // Fetch all the pages
  while (!incrementalSyncResponse.getNextPageToken().isEmpty()) {
    incrementalSyncResponse = peopleService.otherContacts().list()
        .setReadMask("metadata,names,emailAddresses")
        .setSyncToken(fullSyncResponse.getNextSyncToken())
        .setPageToken(incrementalSyncResponse.getNextPageToken())
        .execute();
    for (Person person : incrementalSyncResponse.getOtherContacts()) {
      handlePerson(person);
    }
  }
} catch (GoogleJsonResponseException e) {
  if (e.getStatusCode() == 410) {
    // Sync token expired. Make full sync request.
  }
}

void handlePerson(Person person) {
  if (person.getMetadata().getDeleted()) {
    // Handle deleted person
  } else {
    // Handle changed person
  }
}
참고: 동기화 요청의 경우 쓰기에 몇 분의 전파 지연이 발생할 수 있습니다. 증분 동기화는 쓰기 후 읽기 사용 사례에 적합하지 않습니다.
동기화 동작에 관한 자세한 내용은 ListOtherContacts [https://developers.google.com/people/api/rest/v1/otherContacts/list?hl=ko]를 참고하세요.
'기타 연락처'를 'myContacts' 그룹에 복사
'기타 연락처'를 'myContacts' 그룹에 복사 [https://developers.google.com/people/api/rest/v1/otherContacts/copyOtherContactToMyContactsGroup?hl=ko]하려면 다음 코드를 사용하세요.
프로토콜
자바
POST /v1/resource_name:copyOtherContactToMyContactsGroup?copyMask=names,emailAddresses,phoneNumbers HTTP/1.1
Host: people.googleapis.com
사용자의 '기타 연락처' 검색
사용자의 모든 '기타 연락처'를 검색 [https://developers.google.com/people/api/rest/v1/otherContacts/search?hl=ko]하려면 다음 코드를 사용하세요.
프로토콜
자바
// Warmup cache
GET /v1/otherContacts:search?query=&readMask=names,emailAddresses HTTP/1.1
Host: people.googleapis.com

// Send search request after several seconds
GET /v1/otherContacts:search?query=query&readMask=names,emailAddresses HTTP/1.1
Host: people.googleapis.com
중요: 검색은 요청 후에 업데이트되는 지연 캐시를 사용합니다. 클라이언트는 먼저 빈 쿼리가 포함된 준비 검색 요청을 전송하여 캐시에 최신 데이터가 있는지 확인해야 합니다.
참고: 검색은 쿼리의 접두사를 사용자의 필드와 일치시킵니다. 예를 들어 이름이 'foo name'인 사용자는 'f', 'fo', 'foo', 'foo n', 'nam'과 같은 검색어와 일치하지만 'oo n'과는 일치하지 않습니다.