Source URL: https://developers.google.com/maps/documentation/android-sdk/utility/geojson?hl=ko

홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Android [https://developers.google.com/maps/android?hl=ko]
Maps SDK for Android [https://developers.google.com/maps/documentation/android-sdk/overview?hl=ko]
안내 [https://developers.google.com/maps/documentation/android-sdk?hl=ko]
의견 보내기
Google Maps Android GeoJSON 유틸리티
플랫폼 선택: Android [https://developers.google.com/maps/documentation/android-sdk/utility/geojson?hl=ko] iOS [https://developers.google.com/maps/documentation/ios-sdk/utility/geojson?hl=ko] JavaScript [https://developers.google.com/maps/documentation/javascript/datalayer?hl=ko]
소개
GeoJSON [http://geojson.org/]은 JSON 데이터 형식을 확장한 것으로 지리적 데이터를 나타냅니다. 이 유틸리티를 사용하면 지형지물을 GeoJSON 형식으로 저장하고 지도 위에 레이어로 렌더링할 수 있습니다. 지도에서 GeoJSON 데이터를 추가/삭제하려면 addLayerToMap(), removeLayerFromMap()을 각각 호출합니다. 마찬가지로 addFeature(), removeFeature()를 호출하고 GeoJsonFeature 객체를 전달하여 개별 지형지물을 추가하고 삭제할 수도 있습니다. 지형지물에 액세스하려면 getFeatures()를 호출하여 레이어에 추가된 모든 GeoJsonFeature 객체의 반복 가능 항목을 가져옵니다.
또한 getDefaultPointStyle(), getDefaultLineStringStyle() 또는 getDefaultPolygonStyle()을 호출하고 각각에 스타일 옵션을 설정하여 지형지물을 레이어에 추가하기 전에 기본 스타일을 설정할 수 있습니다. 지형지물에서 setPointStyle(), setLineStringStyle() 또는 setPolygonStyle()을 호출하고 관련 스타일 객체를 전달하여 개별 GeoJsonFeature의 스타일을 설정할 수도 있습니다.
지도에 GeoJsonLayer 추가
지도에 GeoJson 레이어를 추가하려면 먼저 GeoJsonLayer 클래스의 인스턴스를 생성합니다. GeoJsonLayer를 인스턴스화하는 방법은 두 가지가 있습니다.
JSONObject에서 가져오려면 다음 항목이 필요합니다.
레이어를 렌더링할 GoogleMap 객체
레이어에 포함될 GeoJSON 데이터가 포함된 JSONObject
로컬 GeoJSON 파일에서 가져올 경우 필요한 항목:
레이어를 렌더링할 GoogleMap 객체
GeoJSON 데이터가 포함된 로컬 리소스 파일
로컬 리소스 파일을 여는 데 필요한 Context 객체
GeoJsonLayer를 만든 후 addLayerToMap()을 호출하여 가져온 데이터를 다음과 같이 지도에 추가합니다.
GeoJsonLayer 삭제
이 레이어를 추가했다고 가정해 보겠습니다.
GeoJsonLayer를 지우려면 removeLayerFromMap()을 호출합니다.
GeoJsonFeature 추가 및 제거
GeoJSON의 지형지물은 "feature" 유형을 가집니다. 여기에는 기하학적 구조와 속성 멤버가 포함되며 경계 상자나 ID가 들어 있기도 합니다.
GeoJsonFeature 객체를 개별적으로 만들어 GeoJsonLayer에 추가할 수 있습니다.
0, 0 지점이 포함되고 속성에 하나의 항목이 있으며 경계 상자가 없는 지형지물을 생성했다고 가정해 보겠습니다.
레이어에 지형지물을 추가하려면 addFeature()를 호출하고 추가할 지형지물을 전달합니다.
지형지물을 레이어에 추가한 후 삭제하려면 removeFeature()를 호출하고 삭제할 지형지물을 전달합니다.
GeoJsonFeature 및 속성 액세스
레이어에 추가된 모든 GeoJsonFeature에 액세스하려면 생성된 GeoJsonLayer에서 getFeatures()를 호출하면 됩니다. 이렇게 하면 아래와 같이 for-each 루프를 사용해 액세스할 수 있는 GeoJsonFeatures의 반복 가능 항목이 반환됩니다.
hasProperty(), getProperty() 메서드를 getFeatures() 메서드와 함께 사용하여 저장된 각 지형지물에 특정 속성이 있는지 확인하고 속성이 있으면 액세스합니다.
GeoJSON 도형 클릭 이벤트
GeoJsonLayer.OnFeatureClickListener()를 사용하여 지도의 도형 지형지물에서 클릭 이벤트를 수신 대기할 수 있습니다. 사용자가 지형지물을 클릭할 때 지형지물의 제목을 로깅하는 예시는 다음과 같습니다.
GeoJsonLayer 및 GeoJsonFeature 스타일 지정
GeoJsonLayer의 기본 스타일을 설정하거나 레이어에서 개별 지형지물의 스타일을 지정할 수 있습니다.
기본 스타일
GeoJsonLayer에서 레이어에 추가된 점, 유도선 및 다각형에 기본 스타일을 설정할 수 있습니다. 기본 스타일은 지형지물의 기하학적 구조 중 어느 한쪽에 스타일 세트가 없는 경우에만 적용됩니다. 기본 스타일을 변경하면 기본 스타일을 사용하는 모든 지형지물에 반영됩니다.
기본 스타일을 적용하는 절차는 다음과 같습니다.
관련 기본 스타일 객체를 가져옵니다. GeoJsonPointStyle, GeoJsonLineStringStyle 또는 GeoJsonPolygonStyle 중 하나일 수 있습니다.
스타일에 원하는 옵션을 적용합니다.
예를 들어 다음 코드 샘플은 기본 점 스타일을 수정하여 제목과 스니펫이 포함된 드래그 가능한 점을 만드는 방법을 보여줍니다.
GeoJsonFeature 고유의 스타일
또는 레이어의 개별 지형지물에 스타일을 지정할 수 있습니다. GeoJsonFeature에 스타일을 적용하는 단계는 다음과 같습니다.
관련 스타일 객체를 만듭니다. 이 객체는 GeoJsonPointStyle, GeoJsonLineStringStyle 또는 GeoJsonPolygonStyle일 수 있습니다.
스타일에 원하는 옵션을 적용합니다.
스타일 객체를 GeoJsonFeature의 관련 메서드(setPointStyle(), setLineStringStyle() 또는 setPolygonStyle())로 전달합니다.
예를 들어 GeoJsonFeature의 유도선 스타일을 색상이 빨간색이 되도록 맞춤설정하는 방법은 다음과 같습니다.
데모 앱 보기
URL에서 GeoJSON 파일을 가져오고 이 파일로 레이어를 만드는 예시는 유틸리티 라이브러리와 함께 제공되는 데모 앱에서 GeoJsonDemoActivity를 참고하세요. 설정 가이드 [https://developers.google.com/maps/documentation/android-sdk/utility/setup?hl=ko]에서 데모 앱 실행 방법을 확인할 수 있습니다.
의견 보내기